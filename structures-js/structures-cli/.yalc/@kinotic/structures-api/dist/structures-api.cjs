"use strict";var P=Object.defineProperty;var g=(r,e,t)=>e in r?P(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var i=(r,e,t)=>(g(r,typeof e!="symbol"?e+"":e,t),t);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("@kinotic/continuum-idl"),c=require("@kinotic/continuum-client");require("reflect-metadata");class E{constructor(e,t,s,n){i(this,"id");i(this,"namespace");i(this,"structure");i(this,"namedQueries");this.id=e,this.namespace=t,this.structure=s,this.namedQueries=n}}class Q{constructor(e,t,s){i(this,"id");i(this,"description");i(this,"updated");this.id=e,this.description=t,this.updated=s}}class k{constructor(e,t,s,n){i(this,"id");i(this,"namespace");i(this,"name");i(this,"entityDefinition");i(this,"description");i(this,"created");i(this,"updated");i(this,"published");i(this,"publishedTimestamp");this.namespace=e,this.name=t,this.entityDefinition=s,this.description=n}}class D extends a.C3Decorator{constructor(){super(),this.type="AutoGeneratedId"}}class b extends a.C3Decorator{constructor(){super();i(this,"propertyName");this.type="Discriminator"}withPropertyName(t){return this.propertyName=t,this}}var d=(r=>(r[r.NONE=0]="NONE",r[r.SHARED=1]="SHARED",r))(d||{});class C extends a.C3Decorator{constructor(){super();i(this,"multiTenancyType",d.NONE);this.type="Entity"}withMultiTenancyType(t){return this.multiTenancyType=t,this}}class A extends a.C3Decorator{constructor(){super(),this.type="Flattened"}}class B extends a.C3Decorator{constructor(){super(),this.type="Id"}}class T extends a.C3Decorator{constructor(){super(),this.type="Nested"}}class w extends a.C3Decorator{constructor(t){super();i(this,"statements");this.type="Query",this.statements=t}}class O extends a.C3Decorator{constructor(){super(),this.type="Text"}}class R extends c.AbstractIterablePage{constructor(t,s,n,u){super(s,n);i(this,"structureId");i(this,"entitiesService");this.entitiesService=t,this.structureId=u}findNext(t){return this.entitiesService.findAllSinglePage(this.structureId,t)}}class U extends c.AbstractIterablePage{constructor(t,s,n,u,o,h){super(s,n);i(this,"parameters");i(this,"queryName");i(this,"structureId");i(this,"entitiesService");this.entitiesService=t,this.parameters=u,this.queryName=o,this.structureId=h}findNext(t){return this.entitiesService.namedQuerySinglePage(this.structureId,this.queryName,this.parameters,t)}}class F extends c.AbstractIterablePage{constructor(t,s,n,u,o){super(s,n);i(this,"searchText");i(this,"structureId");i(this,"entitiesService");this.entitiesService=t,this.searchText=u,this.structureId=o}findNext(t){return this.entitiesService.searchSinglePage(this.structureId,this.searchText,t)}}class v{constructor(e){i(this,"serviceProxy");const t="org.kinotic.structures.api.services.JsonEntitiesService";this.serviceProxy=(e==null?void 0:e.serviceProxy(t))||c.Continuum.serviceProxy(t)}bulkSave(e,t){return this.serviceProxy.invoke("bulkSave",[e,t])}bulkUpdate(e,t){return this.serviceProxy.invoke("bulkUpdate",[e,t])}count(e){return this.serviceProxy.invoke("count",[e])}countByQuery(e,t){return this.serviceProxy.invoke("countByQuery",[e,t])}deleteById(e,t){return this.serviceProxy.invoke("deleteById",[e,t])}deleteByQuery(e,t){return this.serviceProxy.invoke("deleteByQuery",[e,t])}async findAll(e,t){const s=await this.findAllSinglePage(e,t);return new R(this,t,s,e)}async findAllSinglePage(e,t){return this.serviceProxy.invoke("findAll",[e,t])}findById(e,t){return this.serviceProxy.invoke("findById",[e,t])}findByIds(e,t){return this.serviceProxy.invoke("findByIds",[e,t])}namedQuery(e,t,s){return this.serviceProxy.invoke("namedQuery",[e,t,s])}async namedQueryPage(e,t,s,n){const u=await this.namedQuerySinglePage(e,t,s,n);return new U(this,n,u,s,t,e)}namedQuerySinglePage(e,t,s,n){return this.serviceProxy.invoke("namedQueryPage",[e,t,s,n])}save(e,t){return this.serviceProxy.invoke("save",[e,t])}async search(e,t,s){const n=await this.searchSinglePage(e,t,s);return new F(this,s,n,t,e)}async searchSinglePage(e,t,s){return this.serviceProxy.invoke("search",[e,t,s])}update(e,t){return this.serviceProxy.invoke("update",[e,t])}}const l=new v;class y{constructor(e,t,s){i(this,"structureNamespace");i(this,"structureName");i(this,"entitiesService");i(this,"structuresId");this.structureNamespace=e,this.structureName=t,this.structuresId=(e+"."+t).toLowerCase(),this.entitiesService=s||l}async bulkSave(e){const t=await this.beforeBulkSaveOrUpdate(e);return this.entitiesService.bulkSave(this.structuresId,t)}async bulkUpdate(e){const t=await this.beforeBulkSaveOrUpdate(e);return this.entitiesService.bulkUpdate(this.structuresId,t)}count(){return this.entitiesService.count(this.structuresId)}countByQuery(e){return this.entitiesService.countByQuery(this.structuresId,e)}deleteById(e){return this.entitiesService.deleteById(this.structuresId,e)}deleteByQuery(e){return this.entitiesService.deleteByQuery(this.structuresId,e)}findAll(e){return this.entitiesService.findAll(this.structuresId,e)}findById(e){return this.entitiesService.findById(this.structuresId,e)}findByIds(e){return this.entitiesService.findByIds(this.structuresId,e)}namedQuery(e,t){return this.entitiesService.namedQuery(this.structuresId,e,t)}namedQueryPage(e,t,s){return this.entitiesService.namedQueryPage(this.structuresId,e,t,s)}async save(e){const t=await this.beforeSaveOrUpdate(e);return this.entitiesService.save(this.structuresId,t)}search(e,t){return this.entitiesService.search(this.structuresId,e,t)}async update(e){const t=await this.beforeSaveOrUpdate(e);return this.entitiesService.update(this.structuresId,t)}async beforeBulkSaveOrUpdate(e){return Promise.resolve(e)}async beforeSaveOrUpdate(e){return Promise.resolve(e)}}class S extends c.CrudServiceProxy{constructor(){super(c.Continuum.serviceProxy("org.kinotic.structures.api.services.NamedQueriesService"))}}class _ extends c.CrudServiceProxy{constructor(){super(c.Continuum.serviceProxy("org.kinotic.structures.api.services.NamespaceService"))}createNamespaceIfNotExist(e,t){return this.serviceProxy.invoke("createNamespaceIfNotExist",[e,t])}}class p extends c.CrudServiceProxy{constructor(){super(c.Continuum.serviceProxy("org.kinotic.structures.api.services.StructureService"))}findAllPublishedForNamespace(e,t){return this.serviceProxy.invoke("findAllPublishedForNamespace",[e,t])}countForNamespace(e){return this.serviceProxy.invoke("countForNamespace",[e])}publish(e){return this.serviceProxy.invoke("publish",[e])}unPublish(e){return this.serviceProxy.invoke("unPublish",[e])}}const M=new _,G=new p,q=new v,L=new S;exports.Structures=void 0;(r=>{function e(){return M}r.getNamespaceService=e;function t(){return G}r.getStructureService=t;function s(){return q}r.getEntitiesService=s;function n(){return L}r.getNamedQueriesService=n;function u(o,h){return new y(o,h)}r.createEntityService=u})(exports.Structures||(exports.Structures={}));var f=(r=>(r[r.DOUBLE=0]="DOUBLE",r[r.FLOAT=1]="FLOAT",r[r.INT=2]="INT",r[r.LONG=3]="LONG",r[r.SHORT=4]="SHORT",r))(f||{}),m=(r=>(r.Entity="__structures-entity__",r.Id="__structures-id__",r.AutoGeneratedId="__structures-auto-generated-id__",r.Flattened="__structures-flattened__",r.Nested="__structures-nested__",r.Text="__structures-text__",r.NotNull="__structures-notnull__",r.Precision="__structures-precision__",r.Discriminator="__structures-discriminator__",r.Query="__structures-query__",r))(m||{});class I{constructor(e){i(this,"multiTenancyType");this.multiTenancyType=e}}function H(r=d.NONE){return function(e){Reflect.defineMetadata("__structures-entity__",new I(r),e)}}function V(r,e){Reflect.defineMetadata("__structures-id__",{},r,e)}function j(r,e){Reflect.defineMetadata("__structures-auto-generated-id__",{},r,e)}function J(r,e){Reflect.defineMetadata("__structures-flattened__",{},r,e)}function z(r,e){Reflect.defineMetadata("__structures-nested__",{},r,e)}function K(r,e){Reflect.defineMetadata("__structures-text__",{},r,e)}function W(r,e){Reflect.defineMetadata("__structures-notnull__",{},r,e)}function X(r){return function(e,t,s){return Reflect.defineMetadata("__structures-query__",r,e,t),s}}class N{constructor(e){i(this,"precisionType");this.precisionType=e}}function Y(r=f.INT){return function(e,t){Reflect.defineMetadata("__structures-precision__",new N(r),e,t)}}class x{constructor(e){i(this,"propertyName");this.propertyName=e}}function Z(r){return function(e,t){Reflect.defineMetadata("__structures-discriminator__",new x(r),e,t)}}exports.AutoGeneratedId=j;exports.AutoGeneratedIdDecorator=D;exports.Discriminator=Z;exports.DiscriminatorConfig=x;exports.DiscriminatorDecorator=b;exports.EntitiesService=v;exports.EntitiesServiceSingleton=l;exports.Entity=H;exports.EntityConfig=I;exports.EntityDecorator=C;exports.EntityService=y;exports.Flattened=J;exports.FlattenedDecorator=A;exports.Id=V;exports.IdDecorator=B;exports.MultiTenancyType=d;exports.NamedQueriesDefinition=E;exports.NamedQueriesService=S;exports.Namespace=Q;exports.NamespaceService=_;exports.Nested=z;exports.NestedDecorator=T;exports.NotNull=W;exports.Precision=Y;exports.PrecisionConfig=N;exports.Query=X;exports.QueryDecorator=w;exports.Structure=k;exports.StructureService=p;exports.StructuresDecorator=m;exports.Text=K;exports.TextDecorator=O;
//# sourceMappingURL=structures-api.cjs.map
