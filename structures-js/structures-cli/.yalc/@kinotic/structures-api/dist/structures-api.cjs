"use strict";var x=Object.defineProperty;var P=(r,e,t)=>e in r?x(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var i=(r,e,t)=>(P(r,typeof e!="symbol"?e+"":e,t),t);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const u=require("@kinotic/continuum-idl"),c=require("@kinotic/continuum-client");require("reflect-metadata");class E{constructor(e,t,s,n){i(this,"id");i(this,"namespace");i(this,"serviceName");i(this,"serviceDefinition");this.id=e,this.namespace=t,this.serviceName=s,this.serviceDefinition=n}}class g{constructor(e,t,s){i(this,"id");i(this,"description");i(this,"updated");this.id=e,this.description=t,this.updated=s}}class D{constructor(e,t,s,n){i(this,"id");i(this,"namespace");i(this,"name");i(this,"entityDefinition");i(this,"description");i(this,"created");i(this,"updated");i(this,"published");i(this,"publishedTimestamp");this.namespace=e,this.name=t,this.entityDefinition=s,this.description=n}}class k extends u.C3Decorator{constructor(){super(),this.type="AutoGeneratedId"}}class C extends u.C3Decorator{constructor(){super();i(this,"propertyName");this.type="Discriminator"}withPropertyName(t){return this.propertyName=t,this}}var d=(r=>(r[r.NONE=0]="NONE",r[r.SHARED=1]="SHARED",r))(d||{});class b extends u.C3Decorator{constructor(){super();i(this,"multiTenancyType",d.NONE);this.type="Entity"}withMultiTenancyType(t){return this.multiTenancyType=t,this}}class B extends u.C3Decorator{constructor(){super(),this.type="Flattened"}}class A extends u.C3Decorator{constructor(){super(),this.type="Id"}}class T extends u.C3Decorator{constructor(){super(),this.type="Nested"}}class O extends u.C3Decorator{constructor(t){super();i(this,"statements");this.type="Query",this.statements=t}}class w extends u.C3Decorator{constructor(){super(),this.type="Text"}}class Q extends c.AbstractIterablePage{constructor(t,s,n){super(t,s);i(this,"structureId");i(this,"entitiesService");this.structureId=n,this.entitiesService=l}findNext(t){return this.entitiesService.findAllSinglePage(this.structureId,t)}}class R extends c.AbstractIterablePage{constructor(t,s,n,o){super(t,s);i(this,"searchText");i(this,"structureId");i(this,"entitiesService");this.searchText=n,this.structureId=o,this.entitiesService=l}findNext(t){return this.entitiesService.searchSinglePage(this.structureId,this.searchText,t)}}class v{constructor(e){i(this,"serviceProxy");const t="org.kinotic.structures.api.services.JsonEntitiesService";this.serviceProxy=(e==null?void 0:e.serviceProxy(t))||c.Continuum.serviceProxy(t)}save(e,t){return this.serviceProxy.invoke("save",[e,t])}bulkSave(e,t){return this.serviceProxy.invoke("bulkSave",[e,t])}update(e,t){return this.serviceProxy.invoke("update",[e,t])}bulkUpdate(e,t){return this.serviceProxy.invoke("bulkUpdate",[e,t])}findById(e,t){return this.serviceProxy.invoke("findById",[e,t])}findByIds(e,t){return this.serviceProxy.invoke("findByIds",[e,t])}count(e){return this.serviceProxy.invoke("count",[e])}countByQuery(e,t){return this.serviceProxy.invoke("countByQuery",[e,t])}deleteById(e,t){return this.serviceProxy.invoke("deleteById",[e,t])}deleteByQuery(e,t){return this.serviceProxy.invoke("deleteByQuery",[e,t])}async findAll(e,t){const s=await this.findAllSinglePage(e,t);return new Q(t,s,e)}async findAllSinglePage(e,t){return this.serviceProxy.invoke("findAll",[e,t])}async search(e,t,s){const n=await this.searchSinglePage(e,t,s);return new R(s,n,t,e)}async searchSinglePage(e,t,s){return this.serviceProxy.invoke("search",[e,t,s])}}const l=new v;class y{constructor(e,t,s){i(this,"structureNamespace");i(this,"structureName");i(this,"entitiesService");i(this,"structuresId");this.structureNamespace=e,this.structureName=t,this.structuresId=(e+"."+t).toLowerCase(),this.entitiesService=s||l}async beforeSaveOrUpdate(e){return Promise.resolve(e)}async beforeBulkSaveOrUpdate(e){return Promise.resolve(e)}async save(e){const t=await this.beforeSaveOrUpdate(e);return this.entitiesService.save(this.structuresId,t)}async bulkSave(e){const t=await this.beforeBulkSaveOrUpdate(e);return this.entitiesService.bulkSave(this.structuresId,t)}async update(e){const t=await this.beforeSaveOrUpdate(e);return this.entitiesService.update(this.structuresId,t)}async bulkUpdate(e){const t=await this.beforeBulkSaveOrUpdate(e);return this.entitiesService.bulkUpdate(this.structuresId,t)}findById(e){return this.entitiesService.findById(this.structuresId,e)}findByIds(e){return this.entitiesService.findByIds(this.structuresId,e)}count(){return this.entitiesService.count(this.structuresId)}countByQuery(e){return this.entitiesService.countByQuery(this.structuresId,e)}deleteById(e){return this.entitiesService.deleteById(this.structuresId,e)}deleteByQuery(e){return this.entitiesService.deleteByQuery(this.structuresId,e)}findAll(e){return this.entitiesService.findAll(this.structuresId,e)}search(e,t){return this.entitiesService.search(this.structuresId,e,t)}}class U extends c.CrudServiceProxy{constructor(){super(c.Continuum.serviceProxy("org.kinotic.structures.internal.api.services.NamedQueriesService"))}}class p extends c.CrudServiceProxy{constructor(){super(c.Continuum.serviceProxy("org.kinotic.structures.api.services.NamespaceService"))}createNamespaceIfNotExist(e,t){return this.serviceProxy.invoke("createNamespaceIfNotExist",[e,t])}}class f extends c.CrudServiceProxy{constructor(){super(c.Continuum.serviceProxy("org.kinotic.structures.api.services.StructureService"))}findAllPublishedForNamespace(e,t){return this.serviceProxy.invoke("findAllPublishedForNamespace",[e,t])}countForNamespace(e){return this.serviceProxy.invoke("countForNamespace",[e])}publish(e){return this.serviceProxy.invoke("publish",[e])}unPublish(e){return this.serviceProxy.invoke("unPublish",[e])}}const F=new p,M=new f,G=new v;exports.Structures=void 0;(r=>{function e(){return F}r.getNamespaceService=e;function t(){return M}r.getStructureService=t;function s(){return G}r.getEntitiesService=s;function n(o,a){return new y(o,a)}r.createEntityService=n})(exports.Structures||(exports.Structures={}));var S=(r=>(r[r.DOUBLE=0]="DOUBLE",r[r.FLOAT=1]="FLOAT",r[r.INT=2]="INT",r[r.LONG=3]="LONG",r[r.SHORT=4]="SHORT",r))(S||{}),_=(r=>(r.Entity="__structures-entity__",r.Id="__structures-id__",r.AutoGeneratedId="__structures-auto-generated-id__",r.Flattened="__structures-flattened__",r.Nested="__structures-nested__",r.Text="__structures-text__",r.NotNull="__structures-notnull__",r.Precision="__structures-precision__",r.Discriminator="__structures-discriminator__",r.Query="__structures-query__",r))(_||{});class m{constructor(e){i(this,"multiTenancyType");this.multiTenancyType=e}}function L(r=d.NONE){return function(e){Reflect.defineMetadata("__structures-entity__",new m(r),e)}}function q(r,e){Reflect.defineMetadata("__structures-id__",{},r,e)}function H(r,e){Reflect.defineMetadata("__structures-auto-generated-id__",{},r,e)}function V(r,e){Reflect.defineMetadata("__structures-flattened__",{},r,e)}function j(r,e){Reflect.defineMetadata("__structures-nested__",{},r,e)}function J(r,e){Reflect.defineMetadata("__structures-text__",{},r,e)}function z(r,e){Reflect.defineMetadata("__structures-notnull__",{},r,e)}function K(r){return function(e,t,s){Reflect.defineMetadata("__structures-query__",r,e,t);const n=s.value,a=Object.getPrototypeOf(e.constructor.prototype)[t];return s.value=function(...h){return typeof a=="function"?a.apply(this,h):n.apply(this,h)},s}}class N{constructor(e){i(this,"precisionType");this.precisionType=e}}function W(r=S.INT){return function(e,t){Reflect.defineMetadata("__structures-precision__",new N(r),e,t)}}class I{constructor(e){i(this,"propertyName");this.propertyName=e}}function X(r){return function(e,t){Reflect.defineMetadata("__structures-discriminator__",new I(r),e,t)}}exports.AutoGeneratedId=H;exports.AutoGeneratedIdDecorator=k;exports.Discriminator=X;exports.DiscriminatorConfig=I;exports.DiscriminatorDecorator=C;exports.EntitiesService=v;exports.EntitiesServiceSingleton=l;exports.Entity=L;exports.EntityConfig=m;exports.EntityDecorator=b;exports.EntityService=y;exports.Flattened=V;exports.FlattenedDecorator=B;exports.Id=q;exports.IdDecorator=A;exports.MultiTenancyType=d;exports.NamedQueriesService=U;exports.NamedQueryServiceDefinition=E;exports.Namespace=g;exports.NamespaceService=p;exports.Nested=j;exports.NestedDecorator=T;exports.NotNull=z;exports.Precision=W;exports.PrecisionConfig=N;exports.Query=K;exports.QueryDecorator=O;exports.Structure=D;exports.StructureService=f;exports.StructuresDecorator=_;exports.Text=J;exports.TextDecorator=w;
//# sourceMappingURL=structures-api.cjs.map
