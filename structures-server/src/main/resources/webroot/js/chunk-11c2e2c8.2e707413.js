(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11c2e2c8"],{"2c3e":function(e,t,r){"use strict";var n=r("83ab"),i=r("9f7f").MISSED_STICKY,a=r("c6b6"),o=r("edd0"),s=r("69f3").get,c=RegExp.prototype,l=TypeError;n&&i&&o(c,"sticky",{configurable:!0,get:function sticky(){if(this!==c){if("RegExp"===a(this))return!!s(this).sticky;throw new l("Incompatible receiver, RegExp required")}}})},"4d63":function(e,t,r){"use strict";var n=r("83ab"),i=r("da84"),a=r("e330"),o=r("94ca"),s=r("7156"),c=r("9112"),l=r("7c73"),u=r("241c").f,p=r("3a9b"),d=r("44e7"),y=r("577e"),h=r("90d8"),f=r("9f7f"),g=r("aeb0"),v=r("cb2d"),m=r("d039"),b=r("1a2d"),k=r("69f3").enforce,w=r("2626"),S=r("b622"),x=r("fce3"),N=r("107c"),T=S("match"),O=i.RegExp,j=O.prototype,A=i.SyntaxError,D=a(j.exec),E=a("".charAt),C=a("".replace),P=a("".indexOf),_=a("".slice),I=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,U=/a/g,L=/a/g,R=new O(U)!==U,F=f.MISSED_STICKY,M=f.UNSUPPORTED_Y,$=n&&(!R||F||x||N||m((function(){return L[T]=!1,O(U)!==U||O(L)===L||"/a/i"!==String(O(U,"i"))}))),handleDotAll=function(e){for(var t,r=e.length,n=0,i="",a=!1;n<=r;n++)t=E(e,n),"\\"!==t?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),i+=t):i+="[\\s\\S]":i+=t+E(e,++n);return i},handleNCG=function(e){for(var t,r=e.length,n=0,i="",a=[],o=l(null),s=!1,c=!1,u=0,p="";n<=r;n++){if(t=E(e,n),"\\"===t)t+=E(e,++n);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:D(I,_(e,n+1))&&(n+=2,c=!0),i+=t,u++;continue;case">"===t&&c:if(""===p||b(o,p))throw new A("Invalid capture group name");o[p]=!0,a[a.length]=[p,u],c=!1,p="";continue}c?p+=t:i+=t}return[i,a]};if(o("RegExp",$)){for(var q=function RegExp(e,t){var r,n,i,a,o,l,u=p(j,this),f=d(e),g=void 0===t,v=[],m=e;if(!u&&f&&g&&e.constructor===q)return e;if((f||p(j,e))&&(e=e.source,g&&(t=h(m))),e=void 0===e?"":y(e),t=void 0===t?"":y(t),m=e,x&&"dotAll"in U&&(n=!!t&&P(t,"s")>-1,n&&(t=C(t,/s/g,""))),r=t,F&&"sticky"in U&&(i=!!t&&P(t,"y")>-1,i&&M&&(t=C(t,/y/g,""))),N&&(a=handleNCG(e),e=a[0],v=a[1]),o=s(O(e,t),u?this:j,q),(n||i||v.length)&&(l=k(o),n&&(l.dotAll=!0,l.raw=q(handleDotAll(e),r)),i&&(l.sticky=!0),v.length&&(l.groups=v)),e!==m)try{c(o,"source",""===m?"(?:)":m)}catch(b){}return o},H=u(O),B=0;H.length>B;)g(q,O,H[B++]);j.constructor=q,q.prototype=j,v(i,"RegExp",q,{constructor:!0})}w("RegExp")},"84bf":function(e,t,r){},"8c7a":function(e,t,r){(function(t){var r="undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},n=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,r=0,n={},i={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function encode(e){return e instanceof Token?new Token(e.type,encode(e.content),e.alias):Array.isArray(e)?e.map(encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e["__id"]||Object.defineProperty(e,"__id",{value:++r}),e["__id"]},clone:function deepClone(e,t){var r,n;switch(t=t||{},i.util.type(e)){case"Object":if(n=i.util.objId(e),t[n])return t[n];for(var a in r={},t[n]=r,e)e.hasOwnProperty(a)&&(r[a]=deepClone(e[a],t));return r;case"Array":return n=i.util.objId(e),t[n]?t[n]:(r=[],t[n]=r,e.forEach((function(e,n){r[n]=deepClone(e,t)})),r);default:return e}},getLanguage:function(e){while(e){var r=t.exec(e.className);if(r)return r[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,r){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+r)},currentScript:function(){if("undefined"===typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(n){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(n.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var r in t)if(t[r].src==e)return t[r]}return null}},isActive:function(e,t,r){var n="no-"+t;while(e){var i=e.classList;if(i.contains(t))return!0;if(i.contains(n))return!1;e=e.parentElement}return!!r}},languages:{plain:n,plaintext:n,text:n,txt:n,extend:function(e,t){var r=i.util.clone(i.languages[e]);for(var n in t)r[n]=t[n];return r},insertBefore:function(e,t,r,n){n=n||i.languages;var a=n[e],o={};for(var s in a)if(a.hasOwnProperty(s)){if(s==t)for(var c in r)r.hasOwnProperty(c)&&(o[c]=r[c]);r.hasOwnProperty(s)||(o[s]=a[s])}var l=n[e];return n[e]=o,i.languages.DFS(i.languages,(function(t,r){r===l&&t!=e&&(this[t]=o)})),o},DFS:function DFS(e,t,r,n){n=n||{};var a=i.util.objId;for(var o in e)if(e.hasOwnProperty(o)){t.call(e,o,e[o],r||o);var s=e[o],c=i.util.type(s);"Object"!==c||n[a(s)]?"Array"!==c||n[a(s)]||(n[a(s)]=!0,DFS(s,t,o,n)):(n[a(s)]=!0,DFS(s,t,null,n))}}},plugins:{},highlightAll:function(e,t){i.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,r){var n={callback:r,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",n),n.elements=Array.prototype.slice.apply(n.container.querySelectorAll(n.selector)),i.hooks.run("before-all-elements-highlight",n);for(var a,o=0;a=n.elements[o++];)i.highlightElement(a,!0===t,n.callback)},highlightElement:function(t,r,n){var a=i.util.getLanguage(t),o=i.languages[a];i.util.setLanguage(t,a);var s=t.parentElement;s&&"pre"===s.nodeName.toLowerCase()&&i.util.setLanguage(s,a);var c=t.textContent,l={element:t,language:a,grammar:o,code:c};function insertHighlightedCode(e){l.highlightedCode=e,i.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,i.hooks.run("after-highlight",l),i.hooks.run("complete",l),n&&n.call(l.element)}if(i.hooks.run("before-sanity-check",l),s=l.element.parentElement,s&&"pre"===s.nodeName.toLowerCase()&&!s.hasAttribute("tabindex")&&s.setAttribute("tabindex","0"),!l.code)return i.hooks.run("complete",l),void(n&&n.call(l.element));if(i.hooks.run("before-highlight",l),l.grammar)if(r&&e.Worker){var u=new Worker(i.filename);u.onmessage=function(e){insertHighlightedCode(e.data)},u.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else insertHighlightedCode(i.highlight(l.code,l.grammar,l.language));else insertHighlightedCode(i.util.encode(l.code))},highlight:function(e,t,r){var n={code:e,grammar:t,language:r};if(i.hooks.run("before-tokenize",n),!n.grammar)throw new Error('The language "'+n.language+'" has no grammar.');return n.tokens=i.tokenize(n.code,n.grammar),i.hooks.run("after-tokenize",n),Token.stringify(i.util.encode(n.tokens),n.language)},tokenize:function(e,t){var r=t.rest;if(r){for(var n in r)t[n]=r[n];delete t.rest}var i=new LinkedList;return addAfter(i,i.head,e),matchGrammar(e,i,t,i.head,0),toArray(i)},hooks:{all:{},add:function(e,t){var r=i.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){var r=i.hooks.all[e];if(r&&r.length)for(var n,a=0;n=r[a++];)n(t)}},Token:Token};function Token(e,t,r,n){this.type=e,this.content=t,this.alias=r,this.length=0|(n||"").length}function matchPattern(e,t,r,n){e.lastIndex=t;var i=e.exec(r);if(i&&n&&i[1]){var a=i[1].length;i.index+=a,i[0]=i[0].slice(a)}return i}function matchGrammar(e,t,r,n,a,o){for(var s in r)if(r.hasOwnProperty(s)&&r[s]){var c=r[s];c=Array.isArray(c)?c:[c];for(var l=0;l<c.length;++l){if(o&&o.cause==s+","+l)return;var u=c[l],p=u.inside,d=!!u.lookbehind,y=!!u.greedy,h=u.alias;if(y&&!u.pattern.global){var f=u.pattern.toString().match(/[imsuy]*$/)[0];u.pattern=RegExp(u.pattern.source,f+"g")}for(var g=u.pattern||u,v=n.next,m=a;v!==t.tail;m+=v.value.length,v=v.next){if(o&&m>=o.reach)break;var b=v.value;if(t.length>e.length)return;if(!(b instanceof Token)){var k,w=1;if(y){if(k=matchPattern(g,m,e,d),!k||k.index>=e.length)break;var S=k.index,x=k.index+k[0].length,N=m;N+=v.value.length;while(S>=N)v=v.next,N+=v.value.length;if(N-=v.value.length,m=N,v.value instanceof Token)continue;for(var T=v;T!==t.tail&&(N<x||"string"===typeof T.value);T=T.next)w++,N+=T.value.length;w--,b=e.slice(m,N),k.index-=m}else if(k=matchPattern(g,0,b,d),!k)continue;S=k.index;var O=k[0],j=b.slice(0,S),A=b.slice(S+O.length),D=m+b.length;o&&D>o.reach&&(o.reach=D);var E=v.prev;j&&(E=addAfter(t,E,j),m+=j.length),removeRange(t,E,w);var C=new Token(s,p?i.tokenize(O,p):O,h,O);if(v=addAfter(t,E,C),A&&addAfter(t,v,A),w>1){var P={cause:s+","+l,reach:D};matchGrammar(e,t,r,v.prev,m,P),o&&P.reach>o.reach&&(o.reach=P.reach)}}}}}}function LinkedList(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function addAfter(e,t,r){var n=t.next,i={value:r,prev:t,next:n};return t.next=i,n.prev=i,e.length++,i}function removeRange(e,t,r){for(var n=t.next,i=0;i<r&&n!==e.tail;i++)n=n.next;t.next=n,n.prev=t,e.length-=i}function toArray(e){var t=[],r=e.head.next;while(r!==e.tail)t.push(r.value),r=r.next;return t}if(e.Prism=i,Token.stringify=function stringify(e,t){if("string"==typeof e)return e;if(Array.isArray(e)){var r="";return e.forEach((function(e){r+=stringify(e,t)})),r}var n={type:e.type,content:stringify(e.content,t),tag:"span",classes:["token",e.type],attributes:{},language:t},a=e.alias;a&&(Array.isArray(a)?Array.prototype.push.apply(n.classes,a):n.classes.push(a)),i.hooks.run("wrap",n);var o="";for(var s in n.attributes)o+=" "+s+'="'+(n.attributes[s]||"").replace(/"/g,"&quot;")+'"';return"<"+n.tag+' class="'+n.classes.join(" ")+'"'+o+">"+n.content+"</"+n.tag+">"},!e.document)return e.addEventListener?(i.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var r=JSON.parse(t.data),n=r.language,a=r.code,o=r.immediateClose;e.postMessage(i.highlight(a,i.languages[n],n)),o&&e.close()}),!1),i):i;var a=i.util.currentScript();function highlightAutomaticallyCallback(){i.manual||i.highlightAll()}if(a&&(i.filename=a.src,a.hasAttribute("data-manual")&&(i.manual=!0)),!i.manual){var o=document.readyState;"loading"===o||"interactive"===o&&a&&a.defer?document.addEventListener("DOMContentLoaded",highlightAutomaticallyCallback):window.requestAnimationFrame?window.requestAnimationFrame(highlightAutomaticallyCallback):window.setTimeout(highlightAutomaticallyCallback,16)}return i}(r);
/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */e.exports&&(e.exports=n),"undefined"!==typeof t&&(t.Prism=n)}).call(this,r("c8ba"))},"8fa5":function(e,t,r){"use strict";r("cc39")},"9d01":function(e,t,r){},a485:function(e,t,r){"use strict";r.r(t);var n,i,a=r("0798"),o=r("71a3"),s=r("c671"),c=r("fe57"),l=r("8654"),u=function render(){var e=this,t=e._self._c;e._self._setupProxy;return t("crud-entity-add-edit",{ref:"crud",attrs:{"crud-service-identifier":e.crudServiceIdentifier,title:"Structure",identity:e.id,"identity-editable":!1,entity:e.structure,"show-basic-info-subheader":!1},on:{"update:entity":function updateEntity(t){e.structure=t},"before-save":e.updateStructure},scopedSlots:e._u([{key:"basic-info",fn:function fn(r){var n=r.entity;return[t(c["a"],{staticStyle:{width:"100%"},attrs:{"fixed-tabs":""}},[e.complexType?e._e():t(o["a"],{key:"standard",on:{change:function change(t){return e.updateStructure(n)}}},[e._v(" Standard ")]),e.complexType?e._e():t(s["a"],{key:"standard"},[t("structure-basic-info",{key:"standard",attrs:{entity:n}}),t("structure-standard-ui",{attrs:{entity:n},on:{update:function update(t){return e.loadEntityDefinition(n)}}})],1),t(o["a"],{key:"advanced"},[e._v(" Advanced ")]),t(s["a"],{key:"advanced"},[t("structure-basic-info",{key:"advanced",attrs:{entity:n}}),t(a["a"],{directives:[{name:"show",rawName:"v-show",value:e.jsonSyntaxError.length>0,expression:"jsonSyntaxError.length > 0"}],staticClass:"float-end mt-2",attrs:{dense:"",type:"error"}},[e._v(" "+e._s(e.jsonSyntaxError)+" ")]),t("div",{staticClass:"editor-width editor-height mt-16"},[t(l["a"],{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{rules:[e.validateEntityDefinition]},model:{value:e.entityDefinition,callback:function callback(t){e.entityDefinition=t},expression:"entityDefinition"}}),t("prism-editor",{staticClass:"my-editor",attrs:{highlight:e.highlighter,"line-numbers":""},model:{value:e.entityDefinition,callback:function callback(t){e.entityDefinition=t},expression:"entityDefinition"}})],1)],1)],1)]}}])})},p=[],d=r("d4ec"),y=r("bee2"),h=r("8f33"),f=r("262e"),g=(r("b64b"),r("b0c0"),r("d3b7"),r("159b"),r("e9c4"),r("9ab4")),v=r("1b40"),m=r("0ca3"),b=r("fb4a"),k=r("d00e"),w=function(e){function IdC3Type(){return Object(d["a"])(this,IdC3Type),Object(h["a"])(this,IdC3Type,["string"])}return Object(f["a"])(IdC3Type,e),Object(y["a"])(IdC3Type)}(k["e"]),S=r("94ed"),x=r("e57a"),N=r("8c7a"),T=(r("cb55"),r("f393"),r("84bf"),r("8336")),O=r("b0af"),j=r("99d9"),A=r("62ad"),D=r("a523"),E=r("169a"),C=r("0789"),P=r("132d"),_=r("8860"),I=r("da13"),U=r("5d23"),L=r("0fd9"),R=r("b974"),F=r("2fa4"),M=r("e0c7"),$=(r("ec29"),r("9d01"),r("fe09")),q=r("c37a"),H=r("c3f0"),B=r("490a"),z=r("80d2"),J=$["a"].extend({name:"v-switch",directives:{Touch:H["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes(){return{...q["a"].options.computed.classes.call(this),"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset}},attrs(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot(){return[this.genSwitch(),this.genLabel()]},genSwitch(){const{title:e,...t}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",{...this.attrs,...t}),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",{staticClass:"v-input--switch__track",...this.switchData}),this.$createElement("div",{staticClass:"v-input--switch__thumb",...this.switchData},[this.genProgress()])])},genProgress(){return this.$createElement(C["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(B["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft(){this.isActive&&this.onChange()},onSwipeRight(){this.isActive||this.onChange()},onKeydown(e){(e.keyCode===z["x"].left&&this.isActive||e.keyCode===z["x"].right&&!this.isActive)&&this.onChange()}}}),W=(r("ddb0"),function render(){var e,t,r,n,i=this,a=i._self._c;i._self._setupProxy;return a(D["a"],{staticClass:"pa-3 justify-center text-center editor-height",staticStyle:{"min-width":"85%"}},[a(L["a"],[a(A["a"],{attrs:{cols:"12"}},[a(C["c"],[a(T["a"],{attrs:{dark:"",absolute:"",right:"",fab:"",color:"primary",title:"Manage Properties"},on:{click:function click(e){i.dialog=!0}}},[a(P["a"],[i._v(i._s(i.icons.add))])],1)],1)],1)],1),a(L["a"],{staticClass:"text-h6",staticStyle:{"border-bottom-color":"grey","border-bottom-width":"thin","border-bottom-style":"inset"}},[a(A["a"],{attrs:{cols:"2"}},[i._v(" Name ")]),a(A["a"],{attrs:{cols:"2"}},[i._v(" Type ")]),a(A["a"],{attrs:{cols:"2"}},[i._v(" Not Null ")]),a(A["a"],{attrs:{cols:"2"}},[i._v(" Full Text ")]),a(A["a"],{attrs:{cols:"2"}},[i._v(" Collection ")]),a(A["a"],{attrs:{cols:"2"}},[i._v(" Actions ")])],1),i._l(i.keys,(function(e){var t,r;return a(L["a"],{key:e,ref:"properties ",refInFor:!0,staticStyle:{"border-bottom-color":"grey","border-bottom-width":"thin","border-bottom-style":"inset"}},[a(A["a"],{attrs:{cols:"2"}},[i._v(" "+i._s(e)+" ")]),a(A["a"],{attrs:{cols:"2"}},[i._v(" "+i._s("array"===i.StructureUtil.getPropertyDefinition(e,i.structure.entityDefinition.properties).type?"array -> "+i.StructureUtil.getPropertyDefinition(e,i.structure.entityDefinition.properties).contains.type:i.StructureUtil.getPropertyDefinition(e,i.structure.entityDefinition.properties).type)+" ")]),a(A["a"],{attrs:{cols:"2"}},[a(P["a"],{attrs:{"x-small":"",title:"Not Null"}},[i._v(" "+i._s(i.StructureUtil.hasDecorator("NotNull",null===(t=i.structure.entityDefinition.properties[e])||void 0===t?void 0:t.decorators)?"fas fa-check":"")+" ")])],1),a(A["a"],{attrs:{cols:"2"}},[a(P["a"],{attrs:{"x-small":"",title:"Full Text"}},[i._v(" "+i._s(i.StructureUtil.hasDecorator("Text",null===(r=i.structure.entityDefinition.properties[e])||void 0===r?void 0:r.decorators)?"fas fa-check":"")+" ")])],1),a(A["a"],{attrs:{cols:"2"}},[a(P["a"],{attrs:{"x-small":"",title:"Array"}},[i._v(" "+i._s("array"===i.StructureUtil.getPropertyDefinition(e,i.structure.entityDefinition.properties).type?"fas fa-check":"")+" ")])],1),a(A["a"],{attrs:{cols:"2"}},[a(P["a"],{staticClass:"mr-2",attrs:{small:"",title:"Edit",disabled:i.structure.published},on:{click:function click(t){return i.editProperty(e)}}},[i._v(" "+i._s(i.icons.edit)+" ")]),a(P["a"],{staticClass:"mr-2",attrs:{small:"",title:"Delete",disabled:i.structure.published},on:{click:function click(t){return i.deleteProperty(e)}}},[i._v(" "+i._s(i.icons.delete)+" ")])],1)],1)})),a(E["a"],{attrs:{"max-width":"600px"},model:{value:i.dialog,callback:function callback(e){i.dialog=e},expression:"dialog"}},[a(O["a"],[a(_["a"],{attrs:{"two-line":"",subheader:"",rounded:""}},[a(M["a"],[i._v(" Add Properties "),a("div",{staticStyle:{"min-width":"80%"}},[a(T["a"],{staticClass:"float-right bg-surface-variant",attrs:{icon:""},on:{click:i.closeDialog}},[a(P["a"],[i._v(i._s(i.icons.close))])],1)],1)]),a(I["a"],[a(U["a"],[a(l["a"],{attrs:{label:"Property Name",autofocus:"",readonly:i.editing,rules:[i.validateNewProperty]},on:{keydown:function keydown(e){if(!e.type.indexOf("key")&&i._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.preventDefault()}},model:{value:i.propertyName,callback:function callback(e){i.propertyName=e},expression:"propertyName"}})],1)],1),a(I["a"],[a(U["a"],[a(l["a"],{attrs:{label:"Property Description"},model:{value:i.propertyDescription,callback:function callback(e){i.propertyDescription=e},expression:"propertyDescription"}})],1)],1),a(I["a"],[a(U["a"],[a(J,{attrs:{label:"Property Not Null (Required)"},model:{value:i.propertyNotNull,callback:function callback(e){i.propertyNotNull=e},expression:"propertyNotNull"}})],1)],1),a(I["a"],[a(U["a"],[a(R["a"],{attrs:{label:"Property Type",items:i.allPropertyTypes,"item-text":"type",hint:"Property Type","persistent-hint":"","return-object":"","hide-selected":"","single-line":""},model:{value:i.propertyType,callback:function callback(e){i.propertyType=e},expression:"propertyType"}})],1)],1),"array"===(null===(e=i.propertyType)||void 0===e?void 0:e.type)?a(I["a"],[a(U["a"],[a(R["a"],{attrs:{label:"Collection Contains Type",items:i.arrayContainsPropertyTypes,"item-text":"type",hint:"Collection Contains Type","persistent-hint":"","return-object":"","hide-selected":"","single-line":""},model:{value:i.propertyArrayContainsType,callback:function callback(e){i.propertyArrayContainsType=e},expression:"propertyArrayContainsType"}})],1)],1):i._e(),"array"===(null===(t=i.propertyType)||void 0===t?void 0:t.type)?a(I["a"],[a(U["a"],[a(J,{attrs:{label:"Collection Property Not Null (Required)"},model:{value:i.arrayContainsPropertyNotNull,callback:function callback(e){i.arrayContainsPropertyNotNull=e},expression:"arrayContainsPropertyNotNull"}})],1)],1):i._e(),"string"===i.propertyType.type||"array"===i.propertyType.type&&"string"===(null===(r=i.propertyArrayContainsType)||void 0===r?void 0:r.type)?a(I["a"],[a(U["a"],[a(J,{attrs:{label:"String property is a full text search field"},model:{value:i.propertyText,callback:function callback(e){i.propertyText=e},expression:"propertyText"}})],1)],1):i._e(),"enum"===i.propertyType.type||"array"===i.propertyType.type&&"enum"===(null===(n=i.propertyArrayContainsType)||void 0===n?void 0:n.type)?a(I["a"],[a(U["a"],[a(l["a"],{attrs:{label:"Enum Property Options, comma delimited"},on:{keydown:function keydown(e){if(!e.type.indexOf("key")&&i._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.preventDefault()}},model:{value:i.propertyEnumOptions,callback:function callback(e){i.propertyEnumOptions=e},expression:"propertyEnumOptions"}})],1)],1):i._e()],1),a(j["a"],[a(F["a"]),a(T["a"],{on:{click:i.closeDialog}},[i._v(" Done ")]),a(T["a"],{attrs:{color:"primary",disabled:!i.valid},on:{click:i.manageProperty}},[i._v(" "+i._s(i.editing?"Update":"Add")+" ")])],1)],1)],1)],2)}),K=[],G=r("b85c"),Y=r("2909"),V=(r("99af"),r("a4d3"),r("e01a"),r("a434"),r("a15b"),r("14d9"),r("be52")),Q=r("c2cf"),X=function(e){function StructureStandardUi(){var e;return Object(d["a"])(this,StructureStandardUi),e=Object(h["a"])(this,StructureStandardUi),e.icons={add:S["z"],edit:S["x"],delete:S["p"],close:S["n"]},e.editing=!1,e.valid=!1,e.dialog=!1,e.keys=[],e.propertyType=new k["r"],e.propertyArrayContainsType=null,e.propertyName="",e.propertyDescription="",e.propertyNotNull=!1,e.arrayContainsPropertyNotNull=!1,e.propertyText=!1,e.propertyEnumOptions="",e.arrayContainsPropertyTypes=[new k["b"],new k["c"],new k["f"],new k["g"],new k["h"],new k["i"]("",""),new k["j"],new k["k"],new k["l"],new k["m"],new k["o"]("",""),new k["p"],new k["q"],new k["r"],new k["s"]("","")],e.allPropertyTypes=[new k["a"](new k["r"])].concat(Object(Y["a"])(e.arrayContainsPropertyTypes)),e}return Object(f["a"])(StructureStandardUi,e),Object(y["a"])(StructureStandardUi,[{key:"mounted",value:function mounted(){this.keys=Object.keys(this.structure.entityDefinition.properties)}},{key:"update",value:function update(){return this.structure}},{key:"watchStructure",value:function watchStructure(e,t){this.keys=Object.keys(this.structure.entityDefinition.properties)}},{key:"closeDialog",value:function closeDialog(){this.clearNewProperty(),this.dialog=!1}},{key:"validateNewProperty",value:function validateNewProperty(e){if(0===(null===e||void 0===e?void 0:e.length)&&!this.editing)return!0;var t=V["a"].checkNameAndNamespace(e,"Property Name");return 0===t.length&&(this.editing||this.structure.entityDefinition.properties.hasOwnProperty(e)&&(t="Structure already has property defined with a name of ".concat(e))),this.valid=0===t.length,0===t.length||t}},{key:"manageProperty",value:function manageProperty(){var e,t,r,n=Q["a"].getPropertyDefinition(this.propertyName,this.structure.entityDefinition.properties);(null===n||void 0===n?void 0:n.metadata)?this.propertyType.metadata.description=this.propertyDescription:this.propertyType.metadata={},this.checkForDecoratorAndManage("NotNull",new k["n"],null,this.propertyNotNull),"string"===this.propertyType.type&&this.checkForDecoratorAndManage("Text",new b["f"],null,this.propertyText),"enum"===this.propertyType.type&&(void 0===(null===(e=this.propertyType)||void 0===e?void 0:e.values)&&(this.propertyType.values=[]),this.propertyType.values=this.propertyEnumOptions.split(",")),"array"===this.propertyType.type&&null!==this.propertyArrayContainsType&&(this.checkForDecoratorAndManage("NotNull",new k["n"],null,this.arrayContainsPropertyNotNull),"string"===(null===(t=this.propertyArrayContainsType)||void 0===t?void 0:t.type)&&this.checkForDecoratorAndManage("Text",new b["f"],null,this.propertyText),"enum"===this.propertyArrayContainsType.type&&(void 0===(null===(r=this.propertyArrayContainsType)||void 0===r?void 0:r.values)&&(this.propertyArrayContainsType.values=[]),this.propertyArrayContainsType.values=this.propertyEnumOptions.split(",")),this.propertyType.contains=this.propertyArrayContainsType),this.setProperyType(this.propertyName,this.propertyType),this.keys=this.getEntityDefinitionPropertyKeys(),this.update(),this.clearNewProperty(),this.editing&&(this.dialog=!1),this.editing=!1}},{key:"clearNewProperty",value:function clearNewProperty(){this.propertyType=new k["r"],this.propertyArrayContainsType=new k["r"],this.propertyName="",this.propertyDescription="",this.propertyNotNull=!1,this.arrayContainsPropertyNotNull=!1,this.propertyText=!1,this.propertyEnumOptions=""}},{key:"deleteProperty",value:function deleteProperty(e){var t,r=0,n=Object(G["a"])(this.structure.entityDefinition.properties);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.name===e)break;r++}}catch(a){n.e(a)}finally{n.f()}this.structure.entityDefinition.properties.splice(r,1),this.keys=Object.keys(this.structure.entityDefinition.properties),this.update()}},{key:"editProperty",value:function editProperty(e){var t,r,n,i=this;this.editing=!0;var a=Q["a"].getPropertyDefinition(this.propertyName,this.structure.entityDefinition.properties);a&&(this.propertyType=a.type,this.propertyName=e,this.propertyDescription=(null===(t=this.propertyType.metadata)||void 0===t?void 0:t.description)||"",(null===a||void 0===a?void 0:a.decorators)&&a.decorators.length>0&&a.decorators.forEach((function(e){"NotNull"===e.type?i.propertyNotNull=!0:"Text"===e.type&&(i.propertyText=!0)})),"enum"===this.propertyType.type&&(this.propertyEnumOptions=this.propertyType.values.join(",")),"array"===this.propertyType.type&&(this.propertyArrayContainsType=this.propertyType.contains,null!==this.propertyArrayContainsType&&(null===(r=this.propertyArrayContainsType)||void 0===r?void 0:r.decorators)&&(null===(n=this.propertyArrayContainsType)||void 0===n?void 0:n.decorators.length)>0&&this.propertyArrayContainsType.decorators.forEach((function(e){"NotNull"===e.type?i.arrayContainsPropertyNotNull=!0:"Text"===e.type&&(i.propertyText=!0)}))),this.dialog=!0)}},{key:"checkForDecoratorAndManage",value:function checkForDecoratorAndManage(e,t,r,n){var i=!1;if(r)if((null===r||void 0===r?void 0:r.decorators)?i=Q["a"].hasDecorator(e,r.decorators):r.decorators=[],!i&&n)r.decorators.push(t);else if(i&&!n)for(var a=0;a<r.decorators.length;a++)if(r.decorators[a].type===e){r.decorators.splice(a,1);break}}},{key:"getEntityDefinitionPropertyKeys",value:function getEntityDefinitionPropertyKeys(){var e,t=[],r=Object(G["a"])(this.structure.entityDefinition.properties);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push(n.name)}}catch(i){r.e(i)}finally{r.f()}return t}},{key:"setProperyType",value:function setProperyType(e,t){var r,n=Object(G["a"])(this.structure.entityDefinition.properties);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.name===e){i.type=t;break}}}catch(a){n.e(a)}finally{n.f()}}}]),StructureStandardUi}(v["e"]);Object(g["a"])([Object(v["d"])("entity",{type:Object,required:!0}),Object(g["b"])("design:type","function"===typeof(n="undefined"!==typeof b["d"]&&b["d"])?n:Object)],X.prototype,"structure",void 0),Object(g["a"])([Object(v["b"])(),Object(g["b"])("design:type",Function),Object(g["b"])("design:paramtypes",[]),Object(g["b"])("design:returntype","function"===typeof(i="undefined"!==typeof b["d"]&&b["d"])?i:Object)],X.prototype,"update",null),Object(g["a"])([Object(v["f"])("structure"),Object(g["b"])("design:type",Function),Object(g["b"])("design:paramtypes",[Object,Object]),Object(g["b"])("design:returntype",void 0)],X.prototype,"watchStructure",null),X=Object(g["a"])([Object(v["a"])({computed:{StructureUtil:function StructureUtil(){return Q["a"]}},components:{}}),Object(g["b"])("design:paramtypes",[])],X);var Z,ee,te=X,re=te,ne=r("2877"),ie=Object(ne["a"])(re,W,K,!1,null,"157fd1b9",null),ae=ie.exports,oe=function render(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(l["a"],{attrs:{label:"Name",rules:e.nameRules},model:{value:e.structure.name,callback:function callback(t){e.$set(e.structure,"name",t)},expression:"structure.name"}}),t(l["a"],{attrs:{label:"Description"},model:{value:e.structure.description,callback:function callback(t){e.$set(e.structure,"description",t)},expression:"structure.description"}}),t(R["a"],{attrs:{label:"Namespace",items:e.namespaces,disabled:e.structure.published,hint:e.selectedNamespace.id+(e.selectedNamespace.description?" | "+e.selectedNamespace.description:""),"error-messages":e.namespaceErrorMessage,"item-text":"id","return-object":"","persistent-hint":"","hide-selected":"","single-line":""},on:{change:e.selected},model:{value:e.selectedNamespace,callback:function callback(t){e.selectedNamespace=t},expression:"selectedNamespace"}})],1)},se=[],ce=r("b9d8"),le=function(e){function StructureStandardUi(){var e;return Object(d["a"])(this,StructureStandardUi),e=Object(h["a"])(this,StructureStandardUi),e.namespaceServiceIdentifier="org.kinotic.structures.api.services.NamespaceService",e.namespaceService=ce["b"].crudServiceProxy(e.namespaceServiceIdentifier),e.selectedNamespace=new b["c"]("","",0),e.namespaceErrorMessage="",e.namespaces=[],e.nameRules=[function(e){var t=V["a"].checkNameAndNamespace(e,"Name");return 0===t.length||t}],e.structureNamespaceLoaded=!1,e}return Object(f["a"])(StructureStandardUi,e),Object(y["a"])(StructureStandardUi,[{key:"mounted",value:function mounted(){var e=this,t=ce["i"].create(0,200,null);this.namespaceService.findAll(t).then((function(t){var r;e.namespaces=null!==(r=t.content)&&void 0!==r?r:[]})).catch((function(t){console.error("Error setting up to add/edit Structure"),e.displayAlert(t.message)})),this.loadNamespace(this.structure)}},{key:"update",value:function update(){return this.structure}},{key:"watchStructure",value:function watchStructure(e,t){void 0!==e&&null!==e&&""!==e.id&&this.loadNamespace(e)}},{key:"selected",value:function selected(){this.structureNamespaceLoaded=!0,this.structure.namespace=this.selectedNamespace.id,this.update()}},{key:"displayAlert",value:function displayAlert(e){this.$notify({group:"alert",type:"crudEntityAddEditAlert",text:e})}},{key:"loadNamespace",value:function loadNamespace(e){var t=this;this.structureNamespaceLoaded||""===e.namespace||this.namespaceService.findById(e.namespace).then((function(e){t.selectedNamespace=e,t.structureNamespaceLoaded=!0})).catch((function(e){console.error("Error setting up to add/edit Structure",e),t.displayAlert(e.message)}))}}]),StructureStandardUi}(v["e"]);Object(g["a"])([Object(v["d"])("entity",{type:Object,required:!0}),Object(g["b"])("design:type","function"===typeof(Z="undefined"!==typeof b["d"]&&b["d"])?Z:Object)],le.prototype,"structure",void 0),Object(g["a"])([Object(v["b"])(),Object(g["b"])("design:type",Function),Object(g["b"])("design:paramtypes",[]),Object(g["b"])("design:returntype","function"===typeof(ee="undefined"!==typeof b["d"]&&b["d"])?ee:Object)],le.prototype,"update",null),Object(g["a"])([Object(v["f"])("structure"),Object(g["b"])("design:type",Function),Object(g["b"])("design:paramtypes",[Object,Object]),Object(g["b"])("design:returntype",void 0)],le.prototype,"watchStructure",null),le=Object(g["a"])([Object(v["a"])({components:{}}),Object(g["b"])("design:paramtypes",[])],le);var ue=le,pe=ue,de=Object(ne["a"])(pe,oe,se,!1,null,"365229ae",null),ye=de.exports,he=function(e){function StructureAddEdit(){var e;return Object(d["a"])(this,StructureAddEdit),e=Object(h["a"])(this,StructureAddEdit),e.crudServiceIdentifier="org.kinotic.structures.api.services.StructureService",e.objectC3Type=(new k["o"]).addProperty("id",new w).addDecorator((new b["a"]).withMultiTenancyType(b["b"].SHARED)),e.structure=new b["d"]("","",e.objectC3Type,""),e.structureService=b["e"].getStructureService(),e.entityDefinition="",e.complexType=!1,e.jsonSyntaxError="",e.icons={format:S["s"],validate:S["h"]},e}return Object(f["a"])(StructureAddEdit,e),Object(y["a"])(StructureAddEdit,[{key:"mounted",value:function mounted(){var e=this;null!==this.id?this.structureService.findById(this.id).then((function(t){e.loadEntityDefinition(t)})).catch((function(t){console.error("Error setting up to add/edit Structure",t),e.displayAlert(t.message)})):this.loadEntityDefinition(this.structure)}},{key:"highlighter",value:function highlighter(e){return Object(N["highlight"])(e,N["languages"].json)}},{key:"displayAlert",value:function displayAlert(e){this.$notify({group:"alert",type:"crudEntityAddEditAlert",text:e})}},{key:"validateEntityDefinition",value:function validateEntityDefinition(e){try{return JSON.parse(e),this.jsonSyntaxError="",!0}catch(t){return this.jsonSyntaxError=t.message,"Format Failed\n ".concat(t.message)}}},{key:"updateStructure",value:function updateStructure(e){e.entityDefinition=JSON.parse(this.entityDefinition),e.entityDefinition.namespace=this.structure.namespace,e.entityDefinition.name=e.name}},{key:"loadEntityDefinition",value:function loadEntityDefinition(e){var t=this;Object.keys(e.entityDefinition.properties).forEach((function(r){var n,i,a,o,s,c=e.entityDefinition.properties[r];"object"===c.type?t.complexType=!0:"array"!==c.type||"object"!==(null===(n=c.contains)||void 0===n?void 0:n.type)&&"array"!==(null===(i=c.contains)||void 0===i?void 0:i.type)&&"map"!==(null===(a=c.contains)||void 0===a?void 0:a.type)&&"ref"!==(null===(o=c.contains)||void 0===o?void 0:o.type)&&"union"!==(null===(s=c.contains)||void 0===s?void 0:s.type)?("map"===c.type||"ref"===c.type||"union"===c.type)&&(t.complexType=!0):t.complexType=!0})),this.entityDefinition=JSON.stringify(e.entityDefinition,null,2)}}]),StructureAddEdit}(v["e"]);Object(g["a"])([Object(v["c"])({type:String,required:!1,default:null}),Object(g["b"])("design:type",Object)],he.prototype,"id",void 0),he=Object(g["a"])([Object(v["a"])({components:{StructureBasicInfo:ye,CrudEntityAddEdit:m["a"],StructureStandardUi:ae,PrismEditor:x["a"]}}),Object(g["b"])("design:paramtypes",[])],he);var fe=he,ge=fe,ve=(r("8fa5"),Object(ne["a"])(ge,u,p,!1,null,"e0f25332",null));t["default"]=ve.exports},be52:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("d4ec"),i=r("bee2"),a=(r("ac1f"),r("00b4"),r("4d63"),r("c607"),r("2c3e"),r("25f0"),function(){function IndexNameHelper(){Object(n["a"])(this,IndexNameHelper)}return Object(i["a"])(IndexNameHelper,null,[{key:"checkNameAndNamespace",value:function checkNameAndNamespace(e,t){var r="";return null===e||void 0===e?r="".concat(t," must contain a valid value"):0===e.length?r="This field is required":e.length>=255?r="".concat(t," must be less than 255 characters"):"_"===e.charAt(0)?r="".concat(t," must not start with _"):"-"===e.charAt(0)?r="".concat(t," must not start with -"):"+"===e.charAt(0)?r="".concat(t," must not start with +"):"."===e.charAt(0)?r="".concat(t," must not start with ."):this.illegalStructureNameChars.test(e)&&(r="".concat(t," must not contain these characters .. \\ / * ?  < > | , # : ; + = ( ) { } or spaces")),r}}]),IndexNameHelper}());a.illegalStructureNameChars=new RegExp(/[.][.]|[\\][\\]|[/]|[*]|[?]|[\\]|<|>|[|]|[ ]|[,]|[#]|[:]|[;]|[+]|[=]|[(]|[)]|[{]|[}]/)},c2cf:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("b85c"),i=r("d4ec"),a=r("bee2"),o=(r("d3b7"),r("159b"),r("b0c0"),function(){function StructureUtil(){Object(i["a"])(this,StructureUtil)}return Object(a["a"])(StructureUtil,null,[{key:"hasDecorator",value:function hasDecorator(e,t){var hasDecorator=!1;return void 0!==t&&t.length>0&&t.forEach((function(t){t.type===e&&(hasDecorator=!0)})),hasDecorator}},{key:"getPropertyDefinition",value:function getPropertyDefinition(e,t){var r,i=null,a=Object(n["a"])(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(o.name===e){i=o;break}}}catch(s){a.e(s)}finally{a.f()}return i}}]),StructureUtil}())},c607:function(e,t,r){"use strict";var n=r("83ab"),i=r("fce3"),a=r("c6b6"),o=r("edd0"),s=r("69f3").get,c=RegExp.prototype,l=TypeError;n&&i&&o(c,"dotAll",{configurable:!0,get:function dotAll(){if(this!==c){if("RegExp"===a(this))return!!s(this).dotAll;throw new l("Incompatible receiver, RegExp required")}}})},cb55:function(e,t){Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}},cc39:function(e,t,r){},f393:function(e,t){Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json}}]);
//# sourceMappingURL=chunk-11c2e2c8.2e707413.js.map