<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Structures Migration SQL Grammar Reference | Structures</title>
    <meta name="description" content="Comprehensive reference for all statements, options, and syntax in the SQL dialect used for Structures migration scripts.">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/webdocs/assets/style.DlODZvuE.css" as="style">
    <link rel="preload stylesheet" href="/webdocs/vp-icons.css" as="style">
    
    <script type="module" src="/webdocs/assets/app.Cw3cFpGt.js"></script>
    <link rel="preload" href="/webdocs/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/webdocs/assets/chunks/theme.AEpIecFB.js">
    <link rel="modulepreload" href="/webdocs/assets/chunks/framework.DrOG_Kkp.js">
    <link rel="modulepreload" href="/webdocs/assets/reference_migrations-sql-grammar.md.DZardbya.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-bcd43beb><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c0133ace></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c0133ace>Skip to content</a><!--]--><!----><header class="VPNav" data-v-bcd43beb data-v-dabd3259><div class="VPNavBar" data-v-dabd3259 data-v-b66eaa79><div class="wrapper" data-v-b66eaa79><div class="container" data-v-b66eaa79><div class="title" data-v-b66eaa79><div class="VPNavBarTitle has-sidebar" data-v-b66eaa79 data-v-f2b6cc46><a class="title" href="/webdocs/" data-v-f2b6cc46><!--[--><!--]--><!----><span data-v-f2b6cc46>Structures</span><!--[--><!--]--></a></div></div><div class="content" data-v-b66eaa79><div class="content-body" data-v-b66eaa79><!--[--><!--]--><div class="VPNavBarSearch search" data-v-b66eaa79><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-b66eaa79 data-v-758c4033><span id="main-nav-aria-label" class="visually-hidden" data-v-758c4033> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/webdocs/guide/overview.html" tabindex="0" data-v-758c4033 data-v-6b930ca0><!--[--><span data-v-6b930ca0>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/webdocs/reference/structures-config.html" tabindex="0" data-v-758c4033 data-v-6b930ca0><!--[--><span data-v-6b930ca0>Reference</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://kinotic-foundation.github.io/structures/allure" target="_blank" rel="noreferrer" tabindex="0" data-v-758c4033 data-v-6b930ca0><!--[--><span data-v-6b930ca0>Test Status</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-b66eaa79 data-v-ef2ff9bb><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-ef2ff9bb data-v-5581fd1d data-v-0d7d18d6><span class="check" data-v-0d7d18d6><span class="icon" data-v-0d7d18d6><!--[--><span class="vpi-sun sun" data-v-5581fd1d></span><span class="vpi-moon moon" data-v-5581fd1d></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-b66eaa79 data-v-835946d8 data-v-8095a13e><!--[--><a class="VPSocialLink no-icon" href=" https://github.com/Kinotic-Foundation/structures" aria-label="github" target="_blank" rel="noopener" data-v-8095a13e data-v-c6e3fe79><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-b66eaa79 data-v-93988d26 data-v-5d1f801d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-5d1f801d><span class="vpi-more-horizontal icon" data-v-5d1f801d></span></button><div class="menu" data-v-5d1f801d><div class="VPMenu" data-v-5d1f801d data-v-0ba825a4><!----><!--[--><!--[--><!----><div class="group" data-v-93988d26><div class="item appearance" data-v-93988d26><p class="label" data-v-93988d26>Appearance</p><div class="appearance-action" data-v-93988d26><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-93988d26 data-v-5581fd1d data-v-0d7d18d6><span class="check" data-v-0d7d18d6><span class="icon" data-v-0d7d18d6><!--[--><span class="vpi-sun sun" data-v-5581fd1d></span><span class="vpi-moon moon" data-v-5581fd1d></span><!--]--></span></span></button></div></div></div><div class="group" data-v-93988d26><div class="item social-links" data-v-93988d26><div class="VPSocialLinks social-links-list" data-v-93988d26 data-v-8095a13e><!--[--><a class="VPSocialLink no-icon" href=" https://github.com/Kinotic-Foundation/structures" aria-label="github" target="_blank" rel="noopener" data-v-8095a13e data-v-c6e3fe79><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-b66eaa79 data-v-63552372><span class="container" data-v-63552372><span class="top" data-v-63552372></span><span class="middle" data-v-63552372></span><span class="bottom" data-v-63552372></span></span></button></div></div></div></div><div class="divider" data-v-b66eaa79><div class="divider-line" data-v-b66eaa79></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-bcd43beb data-v-33cbe1b5><div class="container" data-v-33cbe1b5><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-33cbe1b5><span class="vpi-align-left menu-icon" data-v-33cbe1b5></span><span class="menu-text" data-v-33cbe1b5>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-33cbe1b5 data-v-d49b5a0e><button data-v-d49b5a0e>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-bcd43beb data-v-a1927c85><div class="curtain" data-v-a1927c85></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-a1927c85><span class="visually-hidden" id="sidebar-aria-label" data-v-a1927c85> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-41eb1830><section class="VPSidebarItem level-0 has-active" data-v-41eb1830 data-v-81f75864><div class="item" role="button" tabindex="0" data-v-81f75864><div class="indicator" data-v-81f75864></div><h2 class="text" data-v-81f75864>Reference</h2><!----></div><div class="items" data-v-81f75864><!--[--><div class="VPSidebarItem level-1 is-link" data-v-81f75864 data-v-81f75864><div class="item" data-v-81f75864><div class="indicator" data-v-81f75864></div><a class="VPLink link link" href="/webdocs/reference/structures-config.html" data-v-81f75864><!--[--><p class="text" data-v-81f75864>Structures Config</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-81f75864 data-v-81f75864><div class="item" data-v-81f75864><div class="indicator" data-v-81f75864></div><a class="VPLink link link" href="/webdocs/reference/migrations-sql-grammar.html" data-v-81f75864><!--[--><p class="text" data-v-81f75864>Migrations SQL Grammar</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-41eb1830><section class="VPSidebarItem level-0" data-v-41eb1830 data-v-81f75864><div class="item" role="button" tabindex="0" data-v-81f75864><div class="indicator" data-v-81f75864></div><h2 class="text" data-v-81f75864>API</h2><!----></div><div class="items" data-v-81f75864><!--[--><div class="VPSidebarItem level-1 is-link" data-v-81f75864 data-v-81f75864><div class="item" data-v-81f75864><div class="indicator" data-v-81f75864></div><a class="VPLink link link" href="/webdocs/reference/decorators.html" data-v-81f75864><!--[--><p class="text" data-v-81f75864>Decorators</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-81f75864 data-v-81f75864><div class="item" data-v-81f75864><div class="indicator" data-v-81f75864></div><a class="VPLink link link" href="/webdocs/reference/graphos/policy-authorization-service.html" data-v-81f75864><!--[--><p class="text" data-v-81f75864>PolicyAuthorizationService</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-81f75864 data-v-81f75864><div class="item" data-v-81f75864><div class="indicator" data-v-81f75864></div><a class="VPLink link link" href="/webdocs/reference/graphos/policy-authorizer.html" data-v-81f75864><!--[--><p class="text" data-v-81f75864>PolicyAuthorizer</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-81f75864 data-v-81f75864><div class="item" data-v-81f75864><div class="indicator" data-v-81f75864></div><a class="VPLink link link" href="/webdocs/reference/graphos/policy-authorization-request.html" data-v-81f75864><!--[--><p class="text" data-v-81f75864>PolicyAuthorizationRequest</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-bcd43beb data-v-b91548c3><div class="VPDoc has-sidebar has-aside" data-v-b91548c3 data-v-ebcb5658><!--[--><!--]--><div class="container" data-v-ebcb5658><div class="aside" data-v-ebcb5658><div class="aside-curtain" data-v-ebcb5658></div><div class="aside-container" data-v-ebcb5658><div class="aside-content" data-v-ebcb5658><div class="VPDocAside" data-v-ebcb5658 data-v-0f29a4cc><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-0f29a4cc data-v-4f7ebbbc><div class="content" data-v-4f7ebbbc><div class="outline-marker" data-v-4f7ebbbc></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-4f7ebbbc>On this page</div><ul class="VPDocOutlineItem root" data-v-4f7ebbbc data-v-6c94c164><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-0f29a4cc></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-ebcb5658><div class="content-container" data-v-ebcb5658><!--[--><!--]--><main class="main" data-v-ebcb5658><div style="position:relative;" class="vp-doc _webdocs_reference_migrations-sql-grammar" data-v-ebcb5658><div><h1 id="structures-migration-sql-grammar-reference" tabindex="-1">Structures Migration SQL Grammar Reference <a class="header-anchor" href="#structures-migration-sql-grammar-reference" aria-label="Permalink to &quot;Structures Migration SQL Grammar Reference&quot;">​</a></h1><blockquote><p><strong>Note:</strong> This grammar reference applies <strong>only to migration scripts</strong> (files used for schema and data migrations).</p></blockquote><p>This document provides a detailed reference for the SQL dialect used in Structures migration scripts. It covers all supported statements, options, and syntax as defined in the migration grammar.</p><h2 id="statements-overview" tabindex="-1">Statements Overview <a class="header-anchor" href="#statements-overview" aria-label="Permalink to &quot;Statements Overview&quot;">​</a></h2><ul><li><code>CREATE TABLE</code></li><li><code>CREATE COMPONENT TEMPLATE</code></li><li><code>CREATE INDEX TEMPLATE</code></li><li><code>ALTER TABLE</code></li><li><code>REINDEX</code></li><li><code>INSERT</code></li><li><code>UPDATE</code></li><li><code>DELETE</code></li><li>Comments</li></ul><hr><h2 id="create-table" tabindex="-1">CREATE TABLE <a class="header-anchor" href="#create-table" aria-label="Permalink to &quot;CREATE TABLE&quot;">​</a></h2><p><strong>Syntax:</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [IF NOT EXISTS] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">index_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">column_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;type&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [, &lt;column_name&gt; &lt;type&gt;]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) ;</span></span></code></pre></div><ul><li><code>IF NOT EXISTS</code> (optional): Only create if the index does not exist.</li><li><code>&lt;type&gt;</code>: See <a href="#supported-types">Supported Types</a>.</li></ul><hr><h2 id="create-component-template" tabindex="-1">CREATE COMPONENT TEMPLATE <a class="header-anchor" href="#create-component-template" aria-label="Permalink to &quot;CREATE COMPONENT TEMPLATE&quot;">​</a></h2><p><strong>Syntax:</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> COMPONENT TEMPLATE </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">template_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;definition&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [, &lt;definition&gt;]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) ;</span></span></code></pre></div><ul><li><code>&lt;definition&gt;</code> can be: <ul><li><code>NUMBER_OF_SHARDS = &lt;integer&gt;</code>: Sets the number of primary shards for indices using this template.</li><li><code>NUMBER_OF_REPLICAS = &lt;integer&gt;</code>: Sets the number of replica shards for indices using this template.</li><li><code>&lt;column_name&gt; &lt;type&gt;</code>: Adds a field mapping (see Supported Types below).</li></ul></li></ul><table tabindex="0"><thead><tr><th>Definition</th><th>Allowed Values</th><th>Description</th></tr></thead><tbody><tr><td>NUMBER_OF_SHARDS</td><td>Integer (e.g., 1, 3)</td><td>Number of primary shards for the index</td></tr><tr><td>NUMBER_OF_REPLICAS</td><td>Integer (e.g., 0, 1)</td><td>Number of replica shards for the index</td></tr><tr><td>&lt;column_name&gt; &lt;type&gt;</td><td>See Supported Types</td><td>Field mapping (name and type)</td></tr></tbody></table><hr><h2 id="create-index-template" tabindex="-1">CREATE INDEX TEMPLATE <a class="header-anchor" href="#create-index-template" aria-label="Permalink to &quot;CREATE INDEX TEMPLATE&quot;">​</a></h2><p><strong>Syntax:</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> INDEX</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TEMPLATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">template_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FOR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&lt;pattern&gt;&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> USING</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&lt;component_template&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [WITH (&lt;definition&gt; [, &lt;definition&gt;]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) ] ;</span></span></code></pre></div><ul><li><code>WITH (...)</code> (optional): Additional definitions as in component templates.</li></ul><table tabindex="0"><thead><tr><th>Definition</th><th>Allowed Values</th><th>Description</th></tr></thead><tbody><tr><td>NUMBER_OF_SHARDS</td><td>Integer (e.g., 1, 3)</td><td>Number of primary shards for the index</td></tr><tr><td>NUMBER_OF_REPLICAS</td><td>Integer (e.g., 0, 1)</td><td>Number of replica shards for the index</td></tr><tr><td>&lt;column_name&gt; &lt;type&gt;</td><td>See Supported Types</td><td>Field mapping (name and type)</td></tr></tbody></table><hr><h2 id="reindex" tabindex="-1">REINDEX <a class="header-anchor" href="#reindex" aria-label="Permalink to &quot;REINDEX&quot;">​</a></h2><p><strong>Syntax:</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">REINDEX </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">source_index</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> INTO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dest_index</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [WITH (&lt;option&gt; [, &lt;option&gt;]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) ] ;</span></span></code></pre></div><ul><li><strong>Options:</strong></li></ul><table tabindex="0"><thead><tr><th>Option</th><th>Allowed Values</th><th>Description</th></tr></thead><tbody><tr><td>CONFLICTS</td><td>ABORT, PROCEED</td><td>How to handle version conflicts: abort or proceed</td></tr><tr><td>MAX_DOCS</td><td>Integer (e.g., 1000)</td><td>Maximum number of documents to reindex</td></tr><tr><td>SLICES</td><td>AUTO, Integer (e.g., 2)</td><td>Number of slices (parallelism); AUTO lets Elasticsearch decide</td></tr><tr><td>SIZE</td><td>Integer (e.g., 500)</td><td>Batch size for reindexing</td></tr><tr><td>SOURCE_FIELDS</td><td>Comma-separated list (e.g., &#39;field1,field2&#39;)</td><td>Restrict source fields to copy</td></tr><tr><td>QUERY</td><td>String (Lucene query syntax)</td><td>Query to filter source documents</td></tr><tr><td>SCRIPT</td><td>String (Painless script)</td><td>Script to transform documents during reindex</td></tr><tr><td>WAIT</td><td>TRUE, FALSE</td><td>If TRUE, wait for completion before continuing; if FALSE, return task ID</td></tr><tr><td>SKIP_IF_NO_SOURCE</td><td>TRUE, FALSE</td><td>If TRUE, skip reindex if the source index does not exist (default FALSE)</td></tr></tbody></table><blockquote><p><strong>Note:</strong> If <code>SKIP_IF_NO_SOURCE = TRUE</code>, the reindex operation will be skipped (no error) if the source index does not exist. This is useful for idempotent migrations or when the source may be missing in some environments.</p></blockquote><hr><h2 id="insert" tabindex="-1">INSERT <a class="header-anchor" href="#insert" aria-label="Permalink to &quot;INSERT&quot;">​</a></h2><p><strong>Syntax:</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INSERT INTO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">index_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [(&lt;column_name&gt; [, &lt;column_name&gt;]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VALUES</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">expression</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [, &lt;expression&gt;]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) [WITH REFRESH] ;</span></span></code></pre></div><ul><li><code>WITH REFRESH</code> (optional): Immediately refresh the index after insert.</li><li><code>&lt;expression&gt;</code>: Literal, parameter (<code>?</code>), or field reference.</li></ul><hr><h2 id="update" tabindex="-1">UPDATE <a class="header-anchor" href="#update" aria-label="Permalink to &quot;UPDATE&quot;">​</a></h2><p><strong>Syntax:</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">UPDATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">index_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> SET</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">field</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">expression</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [, &lt;field&gt; = &lt;expression&gt;]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> WHERE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">where_clause</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [WITH REFRESH] ;</span></span></code></pre></div><ul><li><code>WITH REFRESH</code> (optional): Immediately refresh the index after update.</li><li><code>&lt;expression&gt;</code>: Literal, parameter, or binary expression (e.g., <code>age + 1</code>).</li><li><code>&lt;where_clause&gt;</code>: See <a href="#where-clauses">Where Clauses</a>.</li></ul><hr><h2 id="delete" tabindex="-1">DELETE <a class="header-anchor" href="#delete" aria-label="Permalink to &quot;DELETE&quot;">​</a></h2><p><strong>Syntax:</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DELETE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">index_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> WHERE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">where_clause</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [WITH REFRESH] ;</span></span></code></pre></div><ul><li><code>WITH REFRESH</code> (optional): Immediately refresh the index after delete.</li></ul><hr><h2 id="comments" tabindex="-1">Comments <a class="header-anchor" href="#comments" aria-label="Permalink to &quot;Comments&quot;">​</a></h2><p><strong>Syntax:</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- This is a comment</span></span></code></pre></div><ul><li>Comments start with <code>--</code> and continue to the end of the line.</li></ul><hr><h2 id="where-clauses" tabindex="-1">Where Clauses <a class="header-anchor" href="#where-clauses" aria-label="Permalink to &quot;Where Clauses&quot;">​</a></h2><p>Where clauses are used in <code>UPDATE</code> and <code>DELETE</code> statements.</p><p><strong>Syntax:</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">field</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">operator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;value&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">where_clause</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">where_clause</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> AND</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">where_clause</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">where_clause</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> OR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">where_clause</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><ul><li><strong>Operators:</strong> <code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code></li><li><strong>Values:</strong> Literal, parameter (<code>?</code>), string, integer, boolean</li></ul><hr><h2 id="supported-types" tabindex="-1">Supported Types <a class="header-anchor" href="#supported-types" aria-label="Permalink to &quot;Supported Types&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Type</th><th>Elasticsearch Mapping</th></tr></thead><tbody><tr><td>TEXT</td><td>text</td></tr><tr><td>KEYWORD</td><td>keyword</td></tr><tr><td>KEYWORD NOT INDEXED</td><td>keyword (not indexed, no doc_values)</td></tr><tr><td>INTEGER</td><td>integer</td></tr><tr><td>INTEGER NOT INDEXED</td><td>integer (not indexed, no doc_values)</td></tr><tr><td>LONG</td><td>long</td></tr><tr><td>LONG NOT INDEXED</td><td>long (not indexed, no doc_values)</td></tr><tr><td>FLOAT</td><td>float</td></tr><tr><td>FLOAT NOT INDEXED</td><td>float (not indexed, no doc_values)</td></tr><tr><td>DOUBLE</td><td>double</td></tr><tr><td>DOUBLE NOT INDEXED</td><td>double (not indexed, no doc_values)</td></tr><tr><td>BOOLEAN</td><td>boolean</td></tr><tr><td>BOOLEAN NOT INDEXED</td><td>boolean (not indexed, no doc_values)</td></tr><tr><td>DATE</td><td>date</td></tr><tr><td>DATE NOT INDEXED</td><td>date (not indexed, no doc_values)</td></tr><tr><td>JSON</td><td>object (flattened)</td></tr><tr><td>JSON NOT INDEXED</td><td>object (not indexed)</td></tr><tr><td>BINARY</td><td>binary</td></tr><tr><td>GEO_POINT</td><td>geo_point</td></tr><tr><td>GEO_SHAPE</td><td>geo_shape</td></tr><tr><td>UUID</td><td>keyword</td></tr><tr><td>UUID NOT INDEXED</td><td>keyword (not indexed, no doc_values)</td></tr><tr><td>DECIMAL</td><td>double</td></tr><tr><td>DECIMAL NOT INDEXED</td><td>double (not indexed, no doc_values)</td></tr></tbody></table><hr><h2 id="expressions" tabindex="-1">Expressions <a class="header-anchor" href="#expressions" aria-label="Permalink to &quot;Expressions&quot;">​</a></h2><ul><li><strong>Literals:</strong> <code>&#39;string&#39;</code>, <code>123</code>, <code>true</code>, <code>false</code></li><li><strong>Parameters:</strong> <code>?</code></li><li><strong>Binary Expressions:</strong> <code>&lt;field&gt; + &lt;value&gt;</code>, <code>&lt;field&gt; - &lt;value&gt;</code>, etc.</li></ul><hr><h2 id="reserved-keywords" tabindex="-1">Reserved Keywords <a class="header-anchor" href="#reserved-keywords" aria-label="Permalink to &quot;Reserved Keywords&quot;">​</a></h2><p>All keywords in the grammar are reserved and case-insensitive. Examples: <code>CREATE</code>, <code>TABLE</code>, <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code>, <code>WITH</code>, <code>REFRESH</code>, etc.</p><hr><h2 id="notes" tabindex="-1">Notes <a class="header-anchor" href="#notes" aria-label="Permalink to &quot;Notes&quot;">​</a></h2><ul><li>All statements must end with a semicolon (<code>;</code>).</li><li>Identifiers (<code>&lt;index_name&gt;</code>, <code>&lt;column_name&gt;</code>, etc.) must start with a letter or underscore and can contain letters, numbers, and underscores.</li><li>Strings are enclosed in single quotes (<code>&#39;...&#39;</code>).</li><li>Comments are ignored by the parser.</li></ul></div></div></main><footer class="VPDocFooter" data-v-ebcb5658 data-v-7708fbd0><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-7708fbd0><span class="visually-hidden" id="doc-footer-aria-label" data-v-7708fbd0>Pager</span><div class="pager" data-v-7708fbd0><a class="VPLink link pager-link prev" href="/webdocs/reference/structures-config.html" data-v-7708fbd0><!--[--><span class="desc" data-v-7708fbd0>Previous page</span><span class="title" data-v-7708fbd0>Structures Config</span><!--]--></a></div><div class="pager" data-v-7708fbd0><a class="VPLink link pager-link next" href="/webdocs/reference/decorators.html" data-v-7708fbd0><!--[--><span class="desc" data-v-7708fbd0>Next page</span><span class="title" data-v-7708fbd0>Decorators</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-bcd43beb data-v-7cc715de><div class="container" data-v-7cc715de><p class="message" data-v-7cc715de>Released under the Apache License.</p><p class="copyright" data-v-7cc715de>Copyright © 2018-present Kinotic Foundation</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api-examples.md\":\"LodZowMS\",\"guide_getting-started.md\":\"BpNoamOL\",\"guide_graphos_entity-service-decorators.md\":\"0dGF5YLL\",\"guide_graphos_overview.md\":\"DJym4MKb\",\"guide_graphos_policy-decorators.md\":\"Dytuo_MP\",\"guide_graphos_policy-evaluation-flow.md\":\"DruqREHW\",\"guide_multi-tenant-access.md\":\"D8_6W7e_\",\"guide_overview.md\":\"BwSgfuIF\",\"guide_writing-migrations.md\":\"CSRwGrKZ\",\"index.md\":\"Ouv2yxLb\",\"markdown-examples.md\":\"B2-q9S2Z\",\"reference_decorators.md\":\"CwbegOpy\",\"reference_graphos_policy-authorization-request.md\":\"B44ofJ8w\",\"reference_graphos_policy-authorization-service.md\":\"DCTqu_G0\",\"reference_graphos_policy-authorizer.md\":\"CdaAKXxC\",\"reference_graphos_security-context.md\":\"Fq3h3xcd\",\"reference_javadoc.md\":\"C8W1b5jw\",\"reference_migrations-sql-grammar.md\":\"DZardbya\",\"reference_structures-config.md\":\"CVWCFnmw\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Structures\",\"description\":\"Structures is an open-source framework for data storage and retrieval, supporting schema evolution, data management, and providing a user-friendly GUI.\",\"base\":\"/webdocs/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Guide\",\"link\":\"/guide/overview\",\"activeMatch\":\"/guide/\"},{\"text\":\"Reference\",\"link\":\"/reference/structures-config\",\"activeMatch\":\"/reference/\"},{\"text\":\"Test Status\",\"link\":\"https://kinotic-foundation.github.io/structures/allure\"}],\"sidebar\":{\"/guide/\":[{\"text\":\"Introduction\",\"items\":[{\"text\":\"What is Structures?\",\"link\":\"/guide/overview\"},{\"text\":\"Getting Started\",\"link\":\"/guide/getting-started\"},{\"text\":\"Writing Migrations\",\"link\":\"/guide/writing-migrations\"}]},{\"text\":\"Details\",\"items\":[{\"text\":\"Apollo @policy Support\",\"link\":\"/guide/graphos/overview\",\"items\":[{\"text\":\"Policy Decorators\",\"link\":\"/guide/graphos/policy-decorators\"},{\"text\":\"Policy Evaluation Flow\",\"link\":\"/guide/graphos/policy-evaluation-flow\"}]}]}],\"/reference/\":[{\"text\":\"Reference\",\"items\":[{\"text\":\"Structures Config\",\"link\":\"/reference/structures-config\"},{\"text\":\"Migrations SQL Grammar\",\"link\":\"/reference/migrations-sql-grammar\"}]},{\"text\":\"API\",\"items\":[{\"text\":\"Decorators\",\"link\":\"/reference/decorators\"},{\"text\":\"PolicyAuthorizationService\",\"link\":\"/reference/graphos/policy-authorization-service\"},{\"text\":\"PolicyAuthorizer\",\"link\":\"/reference/graphos/policy-authorizer\"},{\"text\":\"PolicyAuthorizationRequest\",\"link\":\"/reference/graphos/policy-authorization-request\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\" https://github.com/Kinotic-Foundation/structures\"}],\"footer\":{\"message\":\"Released under the Apache License.\",\"copyright\":\"Copyright © 2018-present Kinotic Foundation\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>