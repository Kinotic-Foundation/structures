---
outline: deep
---

# Getting Started with Structures

## Prerequisites
- Node.js (v22.13.1 or later)
- Docker and Docker Compose
- Structures CLI (`npm install -g @kinotic/structures-cli`)

## Setting Up the Development Server
1. Clone the Structures repository:
```bash
git clone https://github.com/kinotic-foundation/structures.git
cd structures
```

2. Start the development server:
```bash
cd docker-compose
docker-compose up -d
```

3. Visit [http://localhost:9090](http://localhost:9090) to access the Structures GUI

## Using Structures in Your Project

Choose your setup path:
- [New Project Setup](#new-project-setup) - Start fresh with a new project
- [Adding to Existing Project](#adding-structures-to-an-existing-project) - Integrate Structures into your current project

### New Project Setup

#### React + TypeScript Project
1. Create a new React project with TypeScript:
```bash
npm create vite@latest my-structures-app -- --template react-ts
cd my-structures-app
```

2. Initialize Structures in your project:
```bash
structures init --namespace my.app --entities src/entities --generated src/generated
```

3. Install required dependencies:
```bash
npm install @kinotic/structures-api
```

4. Create your first entity in `src/entities/Person.ts`:
```typescript
import { Entity, AutoGeneratedId, MultiTenancyType } from '@kinotic/structures-api'

@Entity(MultiTenancyType.SHARED)
export class Person {
    @AutoGeneratedId
    public id: string | null = null
    public firstName: string = ''
    public lastName: string = ''
}
```

5. Sync your entity with the Structures server:
```bash
structures sync my.app --server http://localhost:9090
```

6. Use the generated service in your React component:
```typescript
import { useEffect, useState } from 'react'
import { Continuum } from '@kinotic/structures-api'
import { PersonEntityService } from '../generated/PersonEntityService'

function App() {
    const [persons, setPersons] = useState([])

    useEffect(() => {
        async function init() {
            // Connect to Structures server
            await Continuum.connect({
                host: 'localhost',
                port: 9090,
                connectHeaders: {
                    login: 'admin',
                    passcode: 'structures'
                }
            })

            // Use the generated service
            const personService = new PersonEntityService()

            // Create some dummy data
            const dummyPersons = [
                { firstName: 'John', lastName: 'Doe' },
                { firstName: 'Jane', lastName: 'Smith' },
                { firstName: 'Bob', lastName: 'Johnson' }
            ]

            // Create the persons in the database
            for (const person of dummyPersons) {
                await personService.create(person)
            }

            // Fetch all persons
            const allPersons = await personService.findAll()
            setPersons(allPersons)
        }

        init()
    }, [])

    return (
        <div>
            <h1>Persons</h1>
            <ul>
                {persons.map(person => (
                    <li key={person.id}>
                        {person.firstName} {person.lastName}
                    </li>
                ))}
            </ul>
        </div>
    )
}

export default App
```

### Adding Structures to an Existing Project

1. Install the Structures CLI globally:
```bash
npm install -g @kinotic/structures-cli
```

2. Initialize Structures in your project:
```bash
structures init --namespace your.namespace --entities path/to/entities --generated path/to/generated
```

3. Install the Structures API package:
```bash
npm install @kinotic/structures-api
```

4. Create your entity definitions in the specified entities directory
5. Sync your entities with the Structures server
6. Use the generated services in your application

## Understanding Entity Definitions

### Required Decorators
- `@Entity`: Marks a class as a Structures entity
- `@Id` or `@AutoGeneratedId`: Marks the ID field
  - `@AutoGeneratedId`: Server will generate IDs automatically
  - `@Id`: You must supply IDs when creating entities

### Example Entity with Common Decorators
```typescript
import { 
    Entity, 
    AutoGeneratedId, 
    MultiTenancyType,
    Precision,
    PrecisionType,
    NotIndexed
} from '@kinotic/structures-api'

@Entity(MultiTenancyType.SHARED)
export class Person {
    @AutoGeneratedId
    public id: string | null = null
    
    public firstName: string = ''
    public lastName: string = ''
    
    @Precision(PrecisionType.SHORT)
    public age?: number
    
    @NotIndexed
    public notes?: string
}
```

## Next Steps
- Explore the [Decorators Reference](/reference/decorators) for available decorators and options

## Testing

### Running Tests Locally
When running tests locally, you may encounter issues with TestContainers (used for Elasticsearch testing). To resolve this, set the following environment variable:

```bash
export TESTCONTAINERS_RYUK_DISABLED=true
```

### Why This is Required
TestContainers uses a Ryuk container for resource cleanup, which can cause connectivity issues on certain systems, particularly:
- macOS with Docker Desktop
- Some CI/CD environments
- Systems with strict firewall rules

Disabling Ryuk ensures reliable test execution by skipping the cleanup container.

### CI/CD Configuration
If you're running tests in a CI/CD pipeline, add this environment variable to your pipeline configuration:

```yaml
# GitHub Actions example
env:
  TESTCONTAINERS_RYUK_DISABLED: true

# GitLab CI example
variables:
  TESTCONTAINERS_RYUK_DISABLED: "true"

# Jenkins example
environment {
  TESTCONTAINERS_RYUK_DISABLED = 'true'
}
```

This ensures that all tests, including those requiring Elasticsearch containers, run successfully in your automated testing environment.

